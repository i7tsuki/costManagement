(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{228:function(t,r,e){var content=e(243);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(62).default)("c6ca790c",content,!0,{sourceMap:!1})},242:function(t,r,e){"use strict";var o=e(228);e.n(o).a},243:function(t,r,e){(r=e(61)(!1)).push([t.i,".cost-details{width:70%;margin:0 auto}.cost-details .cost{background-color:#75ff70}.manufacturing,.material{background-color:#00c1ff}.direct-work{background-color:#d2b51a}.in-direct-work{background-color:#ffff1c}.cost-details h3{text-align:center}.subtotal{margin-bottom:30px}.center,.cost-details p{display:flex;justify-content:center}",""]),t.exports=r},264:function(t,r,e){"use strict";e.r(r);e(15);var o=e(3),c={data:function(){return{constructionNo:"",costDetailDirectWork:[],costDirectWorkSalary:[],constructionMoney:0,costConstruction:0,anotherConstruction:[],shipYear:"",inDirectSalary:0}},beforeCreate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("costDetails/getConstructionInfo",{userId:t.$store.state.user.userId,constructionNo:t.$store.state.construction.constructionNo});case 2:return t.constructionMoney=t.$store.state.costDetails.constructionMoney,r.next=5,t.$store.dispatch("costDetails/getCostDetails",{userId:t.$store.state.user.userId,constructionNo:t.$store.state.construction.constructionNo});case 5:return t.costDetailDirectWork=t.$store.state.costDetails.costDetailDirectWork,r.next=8,t.$store.dispatch("costDetails/getCostDirectWorkSalary",{userId:t.$store.state.user.userId,constructionNo:t.$store.state.construction.constructionNo,costDetailDirectWork:t.costDetailDirectWork});case 8:return t.costDirectWorkSalary=t.$store.state.costDetails.costDirectWorkSalary,r.next=11,t.$store.dispatch("costDetails/getShipYearAndAnotherConstruction",{userId:t.$store.state.user.userId,constructionNo:t.$store.state.construction.constructionNo});case 11:return t.anotherConstruction=t.$store.state.costDetails.anotherConstruction,r.next=14,t.$store.dispatch("costDetails/getInDirectSalary",{userId:t.$store.state.user.userId,shipYear:t.$store.state.costDetails.shipYear});case 14:t.costConstruction=t.constructionMoney,t.constructionNo=t.$store.state.construction.constructionNo,t.shipYear=t.$store.state.costDetails.shipYear,t.inDirectSalary=t.$store.state.costDetails.inDirectSalary;case 18:case"end":return r.stop()}}),r)})))()},computed:{costDetailMaterial:function(){return this.$store.state.costDetails.costDetailMaterial},costDetailManufacturing:function(){return this.$store.state.costDetails.costDetailManufacturing},costMaterial:function(){return this.$store.state.costDetails.costMaterial},costManufacturing:function(){return this.$store.state.costDetails.costManufacturing},costDirectWork:function(){for(var t=0,i=0;i<this.costDirectWorkSalary.length;i++)0!==this.costDirectWorkSalary[i].workTime&&(t+=this.costDirectWorkSalary[i].time*this.costDirectWorkSalary[i].salary/this.costDirectWorkSalary[i].workTime);return t},costInDirectWork:function(){for(var t=0,i=0;i<this.anotherConstruction.length;i++)t+=this.anotherConstruction[i].money;return this.inDirectSalary*this.constructionMoney/t},costAll:function(){return this.costMaterial+this.costManufacturing+this.costDirectWork+this.costInDirectWork}}},n=(e(242),e(30)),component=Object(n.a)(c,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"container"},[e("div",{staticClass:"cost-details"},[e("h1",{staticClass:"cost"},[t._v("製品番号："+t._s(t.constructionNo))]),t._v(" "),e("h3",[t._v("受注金額："+t._s(t.constructionMoney))]),t._v(" "),e("h3",[t._v("原価："+t._s(t.costAll))]),t._v(" "),e("h3",[t._v("粗利："+t._s(t.costConstruction))]),t._v(" "),e("h2",{staticClass:"material"},[t._v("材料")]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(0),t._v(" "),t._l(t.costDetailMaterial,(function(r){return e("tr",{key:r.materialNo},[e("td",[t._v(t._s(r.orderNo))]),t._v(" "),e("td",[t._v(t._s(r.materialName))]),t._v(" "),e("td",[t._v(t._s(r.unitPrice))]),t._v(" "),e("td",[t._v(t._s(r.num))]),t._v(" "),e("td",[t._v(t._s(r.money))])])}))],2)]),t._v(" "),e("h3",{staticClass:"subtotal"},[t._v("小計："+t._s(t.costMaterial))]),t._v(" "),e("h2",{staticClass:"manufacturing"},[t._v("外注")]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(1),t._v(" "),t._l(t.costDetailManufacturing,(function(r){return e("tr",{key:r.manufacturingNo},[e("td",[t._v(t._s(r.orderNo))]),t._v(" "),e("td",[t._v(t._s(r.manufacturingName))]),t._v(" "),e("td",[t._v(t._s(r.unitPrice))]),t._v(" "),e("td",[t._v(t._s(r.num))]),t._v(" "),e("td",[t._v(t._s(r.money))])])}))],2)]),t._v(" "),e("h3",{staticClass:"subtotal"},[t._v("小計："+t._s(t.costManufacturing))]),t._v(" "),e("h2",{staticClass:"direct-work"},[t._v("直接工")]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(2),t._v(" "),t._l(t.costDetailDirectWork,(function(r){return e("tr",{key:r.workNo},[e("td",[t._v(t._s(r.workDay))]),t._v(" "),e("td",[t._v(t._s(r.workName))]),t._v(" "),e("td",[t._v(t._s(r.time))])])}))],2)]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(3),t._v(" "),t._l(t.costDirectWorkSalary,(function(r){return e("tr",{key:r.year},[e("td",[t._v(t._s(r.year))]),t._v(" "),e("td",[t._v(t._s(r.time))]),t._v(" "),e("td",[t._v(t._s(r.salary))]),t._v(" "),e("td",[t._v(t._s(r.workTime))]),t._v(" "),e("td",[t._v(t._s(r.time*r.salary/r.workTime))])])}))],2)]),t._v(" "),e("h3",{staticClass:"subtotal"},[t._v("小計："+t._s(t.costDirectWork))]),t._v(" "),e("h2",{staticClass:"in-direct-work"},[t._v("間接工")]),t._v(" "),e("h3",[t._v("出荷日に属する年に出荷した製品一覧")]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(4),t._v(" "),t._l(t.anotherConstruction,(function(r){return e("tr",{key:r.constructionNo},[e("td",[t._v(t._s(r.constructionNo))]),t._v(" "),e("td",[t._v(t._s(r.constructionName))]),t._v(" "),e("td",[t._v(t._s(r.shipDay))]),t._v(" "),e("td",[t._v(t._s(r.money))])])}))],2)]),t._v(" "),e("h3",[t._v("間接工給料")]),t._v(" "),e("div",{staticClass:"center"},[e("table",[t._m(5),t._v(" "),e("tr",[e("td",[t._v(t._s(t.shipYear))]),t._v(" "),e("td",[t._v(t._s(t.inDirectSalary))])])])]),t._v(" "),e("h3",{staticClass:"subtotal"},[t._v("小計(按分金額)："+t._s(t.costInDirectWork))])])])}),[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",[e("th",[t._v("注文番号")]),t._v(" "),e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("単価")]),t._v(" "),e("th",[t._v("数量")]),t._v(" "),e("th",[t._v("金額")])])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",[e("th",[t._v("注文番号")]),t._v(" "),e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("単価")]),t._v(" "),e("th",[t._v("数量")]),t._v(" "),e("th",[t._v("金額")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("tr",[r("th",[this._v("作業日")]),this._v(" "),r("th",[this._v("作業内容")]),this._v(" "),r("th",[this._v("作業時間[h]")])])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",[e("th",[t._v("年")]),t._v(" "),e("th",[t._v("作業時間[h]")]),t._v(" "),e("th",[t._v("総給料")]),t._v(" "),e("th",[t._v("総作業時間[h]")]),t._v(" "),e("th",[t._v("作業時間＊総給料/総作業時間")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("tr",[r("th",[this._v("製品番号")]),this._v(" "),r("th",[this._v("名称")]),this._v(" "),r("th",[this._v("出荷日")]),this._v(" "),r("th",[this._v("受注金額")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("tr",[r("th",[this._v("年")]),this._v(" "),r("th",[this._v("給料")])])}],!1,null,null,null);r.default=component.exports}}]);