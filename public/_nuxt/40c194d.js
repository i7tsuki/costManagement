(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{221:function(e,t,o){var content=o(224);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(62).default)("9ed86490",content,!0,{sourceMap:!1})},222:function(e,t,o){"use strict";o.r(t);o(223);var r=o(30),component=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"EditModal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-container"},[o("div",{staticClass:"modal-header"},[e._t("header",[e._v("\n            default header\n          ")])],2),e._v(" "),o("div",{staticClass:"modal-body"},[e._t("body",[e._v("\n            default body\n          ")])],2),e._v(" "),o("div",{staticClass:"modal-footer"},[e._t("footer",[o("button",{staticClass:"modal-default-button",on:{click:function(t){return e.$emit("close")}}},[e._v("\n              Close\n            ")])])],2)])])])])}),[],!1,null,null,null);t.default=component.exports},223:function(e,t,o){"use strict";var r=o(221);o.n(r).a},224:function(e,t,o){(t=o(61)(!1)).push([e.i,".modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,63.9%,.05);display:table;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:300px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3{margin-top:0;color:#42b983}.modal-body{margin:20px 0}.modal-default-button{float:right}.modal-enter,.modal-leave-active{opacity:0}.modal-enter .modal-container,.modal-leave-active .modal-container{transform:scale(1.1)}",""]),e.exports=t},236:function(e,t,o){var content=o(254);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(62).default)("968d2788",content,!0,{sourceMap:!1})},252:function(e,t,o){"use strict";var r=o(5),n=o(114),d=o(48),l=o(17),c=o(27),m=o(115),v=o(63),f=o(64),_=o(28),h=f("splice"),w=_("splice",{ACCESSORS:!0,0:0,1:2}),N=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!h||!w},{splice:function(e,t){var o,r,f,_,h,w,x=c(this),C=l(x.length),D=n(e,C),P=arguments.length;if(0===P?o=r=0:1===P?(o=0,r=C-D):(o=P-2,r=y(N(d(t),0),C-D)),C+o-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=m(x,r),_=0;_<r;_++)(h=D+_)in x&&v(f,_,x[h]);if(f.length=r,o<r){for(_=D;_<C-r;_++)w=_+o,(h=_+r)in x?x[w]=x[h]:delete x[w];for(_=C;_>C-r+o;_--)delete x[_-1]}else if(o>r)for(_=C-r;_>D;_--)w=_+o-1,(h=_+r-1)in x?x[w]=x[h]:delete x[w];for(_=0;_<o;_++)x[_+D]=arguments[_+2];return x.length=C-r+o,f}})},253:function(e,t,o){"use strict";var r=o(236);o.n(r).a},254:function(e,t,o){(t=o(61)(!1)).push([e.i,".orderDetails{width:70%;margin:0 auto}.orderDetails table{margin-top:15px}.orderDetails .input-form{margin-top:30px;border:1px solid silver}.orderDetails .input-form p{display:flex;justify-content:center}",""]),e.exports=t},269:function(e,t,o){"use strict";o.r(t);o(252),o(15);var r=o(3),n={components:{EditModal:o(222).default},data:function(){return{orderNo:"",orderDay:"",orderName:"",newName:"",newUnitPrice:0,newNum:0,newMoney:0,newClassification:"材料",newConstructionNo:"",isShowModal:!1,selectRow:null,orderDetails:[]}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.$store.state.orderDetails.orderNo){t.next=9;break}return e.orderNo=e.$store.state.orderDetails.orderNo,t.next=4,e.$store.dispatch("orderDetails/getOrderOne",{orderNo:e.orderNo,userId:e.$store.state.userId});case 4:return t.next=6,e.$store.dispatch("orderDetails/getOrderDetails",{orderNo:e.orderNo,userId:e.$store.state.userId});case 6:e.orderDetails=e.$store.state.orderDetails.orderDetails,e.orderName=e.$store.state.orderDetails.orderName,e.orderDay=e.$store.state.orderDetails.orderDay;case 9:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.$store.commit("orderDetails/setOrderNo","")},methods:{addOrder:function(){this.orderDetails.push({materialAndManufacturingName:this.newName,unitPrice:this.newUnitPrice,num:this.newNum,money:this.newMoney,classification:this.newClassification,constructionNo:this.newConstructionNo})},commit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.orderNo){t.next=3;break}return console.log("注文番号が入力されていません。"),t.abrupt("return");case 3:return t.next=5,e.$store.dispatch("orderDetails/commitOrder",{userId:e.$store.state.user.userId,orderDay:e.orderDay,orderNo:e.orderNo,orderName:e.orderName,orderDetails:e.orderDetails});case 5:console.log("登録しました。"),e.$router.push("/order");case 7:case"end":return t.stop()}}),t)})))()},del:function(e){this.orderDetails.splice(e,1)},edit:function(e){this.editName=this.orderDetails[e].materialAndManufacturingName,this.editUnitPrice=this.orderDetails[e].unitPrice,this.editNum=this.orderDetails[e].num,this.editMoney=this.orderDetails[e].money,this.editClassification=this.orderDetails[e].classification,this.editConstructionNo=this.orderDetails[e].constructionNo,this.selectRow=e,this.isShowModal=!0},editCancel:function(){this.isShowModal=!1},editOK:function(e){console.log(this.selectRow),this.orderDetails[this.selectRow].materialAndManufacturingName=this.editName,this.orderDetails[this.selectRow].unitPrice=this.editUnitPrice,this.orderDetails[this.selectRow].num=this.editNum,this.orderDetails[this.selectRow].money=this.editMoney,this.orderDetails[this.selectRow].classification=this.editClassification,this.orderDetails[this.selectRow].constructionNo=this.editConstructionNo,this.isShowModal=!1}}},d=(o(253),o(30)),component=Object(d.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"orderDetails"},[o("button",{on:{click:function(t){return e.commit()}}},[e._v("登録")]),e._v(" "),o("div",{},[o("label",[e._v("注文日")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.orderDay,expression:"orderDay"}],attrs:{type:"date"},domProps:{value:e.orderDay},on:{input:function(t){t.target.composing||(e.orderDay=t.target.value)}}}),e._v(" "),o("label",[e._v("注文番号")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.orderNo,expression:"orderNo"}],attrs:{type:"text"},domProps:{value:e.orderNo},on:{input:function(t){t.target.composing||(e.orderNo=t.target.value)}}}),e._v(" "),o("label",[e._v("注文名")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.orderName,expression:"orderName"}],attrs:{type:"text"},domProps:{value:e.orderName},on:{input:function(t){t.target.composing||(e.orderName=t.target.value)}}})]),e._v(" "),o("table",[e._m(0),e._v(" "),e._l(e.orderDetails,(function(t,r){return o("tr",{key:r},[o("td",[e._v(e._s(r+1))]),e._v(" "),o("td",[e._v(e._s(t.materialAndManufacturingName))]),e._v(" "),o("td",[e._v(e._s(t.unitPrice))]),e._v(" "),o("td",[e._v(e._s(t.num))]),e._v(" "),o("td",[e._v(e._s(t.money)+"\n  \t\t    ")]),o("td",[e._v(e._s(t.classification)+"\n      \t\t")]),o("td",[e._v(e._s(t.constructionNo))]),e._v(" "),o("td",[o("button",{on:{click:function(t){return e.edit(r)}}},[e._v("編集")])]),e._v(" "),e.isShowModal?o("EditModal",{on:{close:function(t){e.isShowModal=!1}}},[o("h3",{attrs:{slot:"header"},slot:"header"}),e._v(" "),o("h3",{attrs:{slot:"body"},slot:"body"},[o("p",[e._v("名称")]),e._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{type:"text"},domProps:{value:e.editName},on:{input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),e._v(" "),o("p",[e._v("単価")]),e._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editUnitPrice,expression:"editUnitPrice"}],attrs:{type:"text"},domProps:{value:e.editUnitPrice},on:{input:function(t){t.target.composing||(e.editUnitPrice=t.target.value)}}})]),e._v(" "),o("p",[e._v("数量")]),e._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editNum,expression:"editNum"}],attrs:{type:"text"},domProps:{value:e.editNum},on:{input:function(t){t.target.composing||(e.editNum=t.target.value)}}})]),e._v(" "),o("p",[e._v("金額")]),e._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editMoney,expression:"editMoney"}],attrs:{type:"text"},domProps:{value:e.editMoney},on:{input:function(t){t.target.composing||(e.editMoney=t.target.value)}}})]),e._v(" "),o("p",[e._v("区分")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.editClassification,expression:"editClassification"}],attrs:{type:"radio",value:"材料",name:"editClass"},domProps:{checked:e._q(e.editClassification,"材料")},on:{change:function(t){e.editClassification="材料"}}}),e._v("材料\n\t\t\t\t      "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.editClassification,expression:"editClassification"}],attrs:{type:"radio",value:"外注",name:"editClass"},domProps:{checked:e._q(e.editClassification,"外注")},on:{change:function(t){e.editClassification="外注"}}}),e._v("外注\n      \t\t    "),o("p",[e._v("製品番号")]),e._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.editConstructionNo,expression:"editConstructionNo"}],attrs:{type:"text"},domProps:{value:e.editConstructionNo},on:{input:function(t){t.target.composing||(e.editConstructionNo=t.target.value)}}})])]),e._v(" "),o("h3",{attrs:{slot:"footer"},slot:"footer"},[o("button",{on:{click:function(t){return e.editOK(r)}}},[e._v("更新")]),e._v(" "),o("button",{on:{click:e.editCancel}},[e._v("キャンセル")])])]):e._e(),e._v(" "),o("td",[o("button",{on:{click:function(t){return e.del(r)}}},[e._v("削除")])])],1)}))],2),e._v(" "),o("div",{staticClass:"input-form"},[o("div",{staticClass:"input-box"},[o("label",[e._v("名称")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newName,expression:"newName"}],attrs:{type:"text"},domProps:{value:e.newName},on:{input:function(t){t.target.composing||(e.newName=t.target.value)}}}),e._v(" "),o("label",[e._v("単価")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newUnitPrice,expression:"newUnitPrice"}],attrs:{type:"text"},domProps:{value:e.newUnitPrice},on:{input:function(t){t.target.composing||(e.newUnitPrice=t.target.value)}}}),e._v(" "),o("label",[e._v("数量")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newNum,expression:"newNum"}],attrs:{type:"text"},domProps:{value:e.newNum},on:{input:function(t){t.target.composing||(e.newNum=t.target.value)}}}),e._v(" "),o("label",[e._v("金額")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMoney,expression:"newMoney"}],attrs:{type:"text"},domProps:{value:e.newMoney},on:{input:function(t){t.target.composing||(e.newMoney=t.target.value)}}}),e._v(" "),o("label",[e._v("区分")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newClassification,expression:"newClassification"}],attrs:{type:"radio",value:"材料",name:"newClass"},domProps:{checked:e._q(e.newClassification,"材料")},on:{change:function(t){e.newClassification="材料"}}}),e._v("材料\n\t\t      "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newClassification,expression:"newClassification"}],attrs:{type:"radio",value:"外注",name:"newClass"},domProps:{checked:e._q(e.newClassification,"外注")},on:{change:function(t){e.newClassification="外注"}}}),e._v("外注\n\t\t      "),e._v(" "),o("label",[e._v("製品番号")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newConstructionNo,expression:"newConstructionNo"}],attrs:{type:"text"},domProps:{value:e.newConstructionNo},on:{input:function(t){t.target.composing||(e.newConstructionNo=t.target.value)}}})]),e._v(" "),o("p",[o("button",{on:{click:e.addOrder}},[e._v("明細追加")])])])])])}),[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("tr",[o("th",[e._v("No")]),e._v(" "),o("th",[e._v("名称")]),e._v(" "),o("th",[e._v("単価")]),e._v(" "),o("th",[e._v("数量")]),e._v(" "),o("th",[e._v("金額")]),e._v(" "),o("th",[e._v("区分")]),e._v(" "),o("th",[e._v("製品番号")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{EditModal:o(222).default})}}]);